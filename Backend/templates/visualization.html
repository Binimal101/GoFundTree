<!DOCTYPE html>
<html lang="en">
<head>
  <title>AR Model Viewer with Location Access</title>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <script type="module" src="./model.js"></script>
  <script type="module" src="./post.js"></script>
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 50px;
      position: relative;
    }

    model-viewer {
      width: 100%;
      height: 500px;
    }

    button {
      background-color: rgb(59, 217, 27);
      border-radius: 4px;
      border: none;
      padding: 10px;
      cursor: pointer;
      margin-top: 10px;
    }

    #preview {
      display: none;
      max-width: 100%;
      margin-top: 10px;
    }

    #uploadBtn {
      display: none; /* Hide the upload button initially */
    }
  </style>
</head>
<body>
  <h1>AR Model Viewer</h1>
  <model-viewer id="modelViewer"
    ar 
    ar-modes="webxr scene-viewer quick-look"
    ar-scale="fixed"
    camera-controls 
    touch-action="pan-y"
    src=""
    ios-src=""
    alt="Environmental Object AR Model" 
    shadow-intensity="1" 
    max-camera-orbit="auto 90deg auto"
    xr-environment>
    <button slot="ar-button" style="background-color: rgb(91, 197, 52); border-radius: 4px; border: none; position: absolute; top: 16px; right: 16px;">
      Activate AR Experience
    </button>
  </model-viewer>

  <h2>Upload AR Photo</h2>
  <button id="getLocationBtn">Allow Location Access</button>
  <div id="status"></div>

  <input type="file" id="photoInput" accept="image/*" />
  <button id="uploadBtn">Upload</button>
  <img id="preview" alt="Photo Preview" />
</body>
</html>